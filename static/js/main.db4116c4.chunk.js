(this["webpackJsonpapollo-dashboard"]=this["webpackJsonpapollo-dashboard"]||[]).push([[0],{129:function(e,t,a){e.exports=a(151)},134:function(e,t,a){},135:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),o=a.n(i),c=(a(134),a(135),a(190)),l=a(193),s=a(62),u=a(81),d=a(44),m=a(185),p=a(195),g=a(194),b=a(106),h=a(50);function f(){var e=Object(s.a)(["\n    mutation CreateIssue($title: String!, $description: String!) {\n      insert_issues(objects: {title: $title, description: $description}) {\n        returning {\n          id,\n          title,\n          description,\n        }\n      }\n    }\n"]);return f=function(){return e},e}function E(){var e=r.a.useState(""),t=Object(d.a)(e,2),a=t[0],n=t[1],i=r.a.useState(""),o=Object(d.a)(i,2),c=o[0],l=o[1],s=Object(b.a)(j),u=Object(d.a)(s,2),h=u[0],f=u[1],E=f.loading,w=f.error,y=v(),O=r.a.useState(!1),k=Object(d.a)(O,2),x=k[0],I=k[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{onClick:function(){I(!0)},variant:"contained",color:"primary"},"New Issue"),r.a.createElement(p.a,{open:x,onClose:function(){I(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement("div",{className:y.paper},E&&r.a.createElement("p",null,"Submitting issue..."),w&&r.a.createElement("p",null,"Error! ".concat(w.message)),r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{id:"simple-modal-title"},"Issue title"),r.a.createElement(g.a,{value:a,onChange:function(e){return n(e.target.value)},className:y.text,id:"outlined-basic",label:"Title of this Issue",variant:"outlined"}),r.a.createElement("h4",{id:"simple-modal-title"},"Description"),r.a.createElement(g.a,{valu:c,onChange:function(e){return l(e.target.value)},className:y.text,multiline:!0,rows:3,rowsMax:4,id:"outlined-basic",label:"Write a comment...",variant:"outlined"}),r.a.createElement("div",{className:y.actions},r.a.createElement(m.a,{disabled:0===a.length,onClick:function(){h({variables:{title:a,description:c}}).then((function(){I(!1),n(""),l("")}))},variant:"contained",color:"primary"},"Submmit new Issue"))))))}var v=Object(c.a)((function(e){return{paper:Object(u.a)({position:"absolute",width:550,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"".concat(w,"%"),left:"".concat(y,"%"),transform:"translate(-".concat(w,"%, -").concat(y,"%)")},e.breakpoints.down("xs"),{width:250}),actions:{marginTop:20,display:"flex",justifyContent:"flex-start"},text:{width:"100%"}}})),w=50,y=50,j=Object(h.a)(f()),O=a(189),k=a(107),x=a(191),I=a(112),C=a(196),N=a(192);function S(){var e=Object(s.a)(["\n    mutation MoveIssue ($id: Int!, $categoryId: Int!) {\n        update_issues(_set: {categoryId: $categoryId}, where: {id: {_eq: $id}}) {\n        returning {\n            id\n        }\n        }\n    }\n"]);return S=function(){return e},e}function $(e){var t=e.id,a=e.categoryId,n=r.a.useState(null),i=Object(d.a)(n,2),o=i[0],c=i[1],l=Boolean(o),s=q(),u=Object(b.a)(F),m=Object(d.a)(u,1)[0],p=function(){m({variables:{id:t,categoryId:a+=1}})};return r.a.createElement("div",{className:s.actions},a<3&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)}},r.a.createElement(N.a,null,"more_vert")),r.a.createElement(I.a,{id:"long-menu",anchorEl:o,keepMounted:!0,open:l,onClose:function(){c(null)},PaperProps:{style:{maxHeight:4.5*M,width:"20ch"}}},_.map((function(e){return r.a.createElement(C.a,{key:e,selected:"Pyxis"===e,onClick:p},e)})))))}var _=["Move"],M=48,q=Object(c.a)((function(e){return{actions:{position:"absolute",top:15,right:10}}})),F=Object(h.a)(S());function T(){var e=Object(s.a)(["\n    subscription {\n        categories {\n            id\n            name\n            issues(order_by: {updated_at: desc}) {\n                title\n                description\n                id,\n                categoryId,\n            }\n        }\n    }\n"]);return T=function(){return e},e}function B(){var e=P(),t=Object(k.a)(W),a=t.loading,n=t.error,i=t.data;return a?"Loading...":n?"Error! ".concat(n.message):r.a.createElement(r.a.Fragment,null,i.categories.map((function(t){return r.a.createElement(l.a,{key:t.id,item:!0,sm:4,xs:12},r.a.createElement(O.a,{className:e.category},r.a.createElement("div",{className:e.title},r.a.createElement("h2",null,t.name)),t.issues.map((function(t){return r.a.createElement(O.a,{key:t.id,className:e.issue},r.a.createElement("h4",null,t.title),r.a.createElement("p",null,t.description),r.a.createElement("div",null,r.a.createElement($,t)))})),0===t.issues.length&&r.a.createElement("div",{className:e.empty},r.a.createElement("h4",null,"No Issues"))))})))}var P=Object(c.a)((function(e){return{category:Object(u.a)({backgroundColor:"rgb(244, 244, 244)",padding:e.spacing(1),height:"100%",overflow:"auto"},e.breakpoints.down("xs"),{height:"13rem"}),title:{margin:e.spacing(1)},issue:{position:"relative",padding:e.spacing(1),margin:e.spacing(1)},empty:{textAlign:"center",color:e.palette.text.secondary}}})),W=Object(h.a)(T());function D(){var e=J();return r.a.createElement(l.a,{container:!0,className:e.root,spacing:2},r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(l.a,{container:!0,justify:"flex-end"},r.a.createElement(E,null)),r.a.createElement("br",null),r.a.createElement(l.a,{container:!0,justify:"center",spacing:1},r.a.createElement(B,null))))}var J=Object(c.a)((function(e){return{root:{padding:e.spacing(2),flexGrow:1},paper:{backgroundColor:"rgb(244, 244, 244)",height:240,width:200},control:{padding:e.spacing(2)},categoryTitle:{margin:e.spacing(1)},issue:{padding:e.spacing(1),margin:e.spacing(1)}}}));var A=function(){return r.a.createElement(D,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(55),H=a(78),L=a(79),z=a(80),K=a(105),Q=a(113),R=a(114),U=new G.a({uri:"https://awesome-hasura-dashboard.herokuapp.com/v1/graphql"}),V=new R.a({uri:"wss://awesome-hasura-dashboard.herokuapp.com/v1/graphql",options:{reconnect:!0}}),X=Object(H.a)((function(e){var t=e.query,a=Object(Q.a)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation}),V,U),Y=new L.a({cache:new z.a,link:X});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K.a,{client:Y},r.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[129,1,2]]]);
//# sourceMappingURL=main.db4116c4.chunk.js.map